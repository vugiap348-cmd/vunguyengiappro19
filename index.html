<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Äá» Kiá»ƒm Tra Lá»‹ch Sá»­ - Äá» Sá»‘ 20</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
  :root{--red:#c0392b;--red-dark:#922b21;--red-light:#fadbd8;--gold:#d4a017;--gold-light:#fef9e7;--navy:#1a2744;--navy-mid:#2c3e6b;--gray-50:#f8f9fa;--gray-100:#f0f2f5;--gray-200:#e4e7ec;--gray-400:#9ca3af;--gray-600:#4b5563;--gray-800:#1f2937;--green:#16a34a;--green-light:#dcfce7;--orange:#ea580c;--shadow-lg:0 8px 40px rgba(26,39,68,0.16);}
  *{box-sizing:border-box;margin:0;padding:0;}
  body{font-family:'Be Vietnam Pro',sans-serif;background:linear-gradient(135deg,#1a2744 0%,#2c3e6b 50%,#1a2744 100%);min-height:100vh;color:var(--gray-800);}
  .site-header{background:rgba(255,255,255,0.04);border-bottom:1px solid rgba(255,255,255,0.1);padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:64px;position:sticky;top:0;z-index:100;backdrop-filter:blur(12px);}
  .header-title{font-family:'Playfair Display',serif;color:#fff;font-size:1.2rem;letter-spacing:0.5px;}
  .header-title span{color:var(--gold);}
  .timer-wrap{display:flex;align-items:center;gap:0.6rem;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:40px;padding:0.4rem 1.2rem;}
  #timer-display{font-size:1.3rem;font-weight:700;color:#fff;font-variant-numeric:tabular-nums;letter-spacing:2px;}
  #timer-display.warning{color:var(--gold);animation:pulse 1s infinite;}
  #timer-display.danger{color:#ff6b6b;animation:pulse 0.5s infinite;}
  @keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.5;}}
  .header-meta{font-size:0.82rem;color:rgba(255,255,255,0.6);}
  .main-container{max-width:900px;margin:0 auto;padding:2rem 1rem 4rem;}
  .progress-bar-outer{background:rgba(255,255,255,0.1);border-radius:8px;height:8px;margin-bottom:1.5rem;overflow:hidden;}
  .progress-bar-inner{background:linear-gradient(90deg,var(--gold),#f59e0b);height:100%;border-radius:8px;transition:width 0.4s ease;}
  .progress-label{text-align:center;color:rgba(255,255,255,0.7);font-size:0.82rem;margin-bottom:1rem;}
  .section-title{background:linear-gradient(135deg,var(--red) 0%,var(--red-dark) 100%);color:#fff;border-radius:12px 12px 0 0;padding:1rem 1.5rem;font-size:1rem;font-weight:700;display:flex;align-items:center;gap:0.6rem;}
  .section-title .badge{background:rgba(255,255,255,0.2);border-radius:20px;padding:0.15rem 0.6rem;font-size:0.78rem;font-weight:500;}
  .card{background:#fff;border-radius:0 0 16px 16px;box-shadow:var(--shadow-lg);margin-bottom:2rem;overflow:hidden;}
  .question-block{padding:1.2rem 1.5rem;border-bottom:1px solid var(--gray-100);transition:background 0.2s;}
  .question-block:last-child{border-bottom:none;}
  .question-block.answered{background:#f8fffe;}
  .q-header{display:flex;align-items:flex-start;gap:0.8rem;margin-bottom:0.8rem;}
  .q-num{background:var(--navy);color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.78rem;font-weight:700;flex-shrink:0;margin-top:0.05rem;}
  .q-text{font-size:0.95rem;font-weight:500;line-height:1.6;color:var(--gray-800);}
  .q-blockquote{background:var(--gray-50);border-left:4px solid var(--red);border-radius:0 8px 8px 0;padding:1rem 1.2rem;margin:0.7rem 0 0.9rem;font-size:0.875rem;line-height:1.75;color:var(--gray-600);font-style:italic;white-space:pre-line;}
  .q-blockquote .source{display:block;margin-top:0.5rem;font-size:0.8rem;color:var(--gray-400);font-style:normal;}
  .info-table{width:100%;border-collapse:collapse;font-size:0.87rem;margin:0.7rem 0 0.9rem;border-radius:8px;overflow:hidden;box-shadow:0 0 0 1px var(--gray-200);}
  .info-table th{background:var(--navy);color:#fff;padding:0.65rem 1rem;text-align:left;font-weight:600;}
  .info-table td{padding:0.6rem 1rem;border-bottom:1px solid var(--gray-100);line-height:1.5;vertical-align:top;}
  .info-table tr:last-child td{border-bottom:none;}
  .info-table tr:nth-child(even) td{background:var(--gray-50);}
  .options-grid{display:grid;gap:0.5rem;padding:0 0 0 2.5rem;}
  .option-label{display:flex;align-items:flex-start;gap:0.6rem;padding:0.55rem 0.9rem;border:1.5px solid var(--gray-200);border-radius:8px;cursor:pointer;transition:all 0.18s;font-size:0.9rem;line-height:1.45;background:#fff;}
  .option-label:hover{border-color:var(--navy);background:var(--gray-50);}
  .option-label input{display:none;}
  .option-label.selected{border-color:var(--navy-mid);background:#eef2ff;}
  .opt-key{font-weight:700;color:var(--navy);min-width:18px;font-size:0.88rem;}
  .tf-grid{display:flex;gap:0.6rem;padding:0 0 0 2.5rem;margin-top:0.4rem;}
  .tf-label{display:flex;align-items:center;gap:0.4rem;padding:0.4rem 1.1rem;border:1.5px solid var(--gray-200);border-radius:6px;cursor:pointer;font-size:0.88rem;font-weight:600;transition:all 0.18s;background:#fff;}
  .tf-label:hover{border-color:var(--navy);}
  .tf-label input{display:none;}
  .tf-label.selected-true{border-color:var(--green);background:var(--green-light);color:var(--green);}
  .tf-label.selected-false{border-color:var(--red);background:var(--red-light);color:var(--red-dark);}
  .sub-q{font-size:0.88rem;color:var(--gray-600);margin-bottom:0.35rem;font-weight:500;padding:0 0 0 2.5rem;}
  .sub-q-block{margin-bottom:0.8rem;}
  .actions-bar{position:sticky;bottom:0;background:rgba(26,39,68,0.97);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,0.1);padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;z-index:90;}
  .action-info{color:rgba(255,255,255,0.7);font-size:0.85rem;}
  .btn-group{display:flex;gap:0.8rem;}
  .btn{font-family:'Be Vietnam Pro',sans-serif;font-size:0.9rem;font-weight:700;border:none;border-radius:8px;padding:0.65rem 1.5rem;cursor:pointer;transition:all 0.18s;}
  .btn-secondary{background:rgba(255,255,255,0.1);color:#fff;border:1px solid rgba(255,255,255,0.2);}
  .btn-secondary:hover{background:rgba(255,255,255,0.18);}
  .btn-primary{background:linear-gradient(135deg,var(--red) 0%,var(--red-dark) 100%);color:#fff;box-shadow:0 2px 12px rgba(192,57,43,0.4);}
  .btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(192,57,43,0.5);}
  .btn-gold{background:linear-gradient(135deg,var(--gold) 0%,#b8860b 100%);color:#fff;box-shadow:0 2px 12px rgba(212,160,23,0.4);}
  .btn-gold:hover{transform:translateY(-1px);}
  #result-screen{display:none;}
  .result-card{background:#fff;border-radius:20px;box-shadow:var(--shadow-lg);overflow:hidden;margin-bottom:2rem;}
  .result-header{background:linear-gradient(135deg,var(--navy) 0%,var(--navy-mid) 100%);padding:2.5rem 2rem;text-align:center;color:#fff;}
  .result-header h2{font-family:'Playfair Display',serif;font-size:1.8rem;margin-bottom:0.5rem;}
  .score-big{font-size:4rem;font-weight:800;color:var(--gold);line-height:1;margin:1rem 0 0.5rem;}
  .score-detail{color:rgba(255,255,255,0.75);font-size:0.9rem;}
  .score-breakdown{display:grid;grid-template-columns:1fr 1fr;gap:0;}
  .score-box{padding:1.2rem 1.5rem;border-right:1px solid var(--gray-100);border-bottom:1px solid var(--gray-100);text-align:center;}
  .score-box:nth-child(2){border-right:none;}
  .score-box:nth-child(3),.score-box:nth-child(4){border-bottom:none;}
  .score-box .label{font-size:0.82rem;color:var(--gray-400);margin-bottom:0.3rem;}
  .score-box .val{font-size:1.5rem;font-weight:800;color:var(--navy);}
  .review-section{padding:1.5rem;}
  .review-title{font-size:1rem;font-weight:700;color:var(--navy);margin-bottom:1rem;padding-bottom:0.5rem;border-bottom:2px solid var(--gray-100);}
  .review-item{padding:1rem 1.2rem;border-radius:10px;margin-bottom:0.8rem;background:var(--gray-50);border:1.5px solid var(--gray-200);}
  .review-item.correct{background:#f0fdf4;border-color:#86efac;}
  .review-item.wrong{background:#fff5f5;border-color:#fca5a5;}
  .review-q-text{font-size:0.9rem;font-weight:600;margin-bottom:0.5rem;color:var(--gray-800);}
  .review-answer{font-size:0.85rem;margin-bottom:0.2rem;}
  .answer-your{color:var(--orange);}
  .answer-correct{color:var(--green);}
  .review-status{display:inline-flex;align-items:center;gap:0.3rem;font-size:0.8rem;font-weight:700;padding:0.2rem 0.6rem;border-radius:20px;margin-bottom:0.5rem;}
  .status-correct{background:var(--green-light);color:var(--green);}
  .status-wrong{background:#fee2e2;color:var(--red);}
  .status-partial{background:var(--gold-light);color:#856404;}
  .review-blockquote{font-size:0.8rem;line-height:1.6;color:var(--gray-600);background:var(--gray-50);border-left:3px solid var(--red);padding:0.5rem 0.8rem;border-radius:0 6px 6px 0;margin:0.4rem 0;font-style:italic;white-space:pre-line;}
  .modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:200;align-items:center;justify-content:center;}
  .modal-overlay.show{display:flex;}
  .modal-box{background:#fff;border-radius:16px;padding:2rem;max-width:400px;width:90%;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.3);animation:pop 0.25s ease;}
  @keyframes pop{from{transform:scale(0.85);opacity:0;}to{transform:scale(1);opacity:1;}}
  .modal-icon{font-size:2.5rem;margin-bottom:0.8rem;}
  .modal-title{font-size:1.2rem;font-weight:700;color:var(--navy);margin-bottom:0.5rem;}
  .modal-text{font-size:0.9rem;color:var(--gray-600);margin-bottom:1.5rem;line-height:1.5;}
  .modal-buttons{display:flex;gap:0.8rem;justify-content:center;}
  .btn-modal-cancel{background:var(--gray-100);color:var(--gray-800);}
  .btn-modal-cancel:hover{background:var(--gray-200);}
  .btn-modal-ok{background:var(--red);color:#fff;}
  .btn-modal-ok:hover{background:var(--red-dark);}
  .fade-in{animation:fadeIn 0.5s ease both;}
  @keyframes fadeIn{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:translateY(0);}}
  @media(max-width:600px){.main-container{padding:1rem 0.5rem 5rem;}.question-block{padding:1rem;}.options-grid,.tf-grid,.sub-q{padding-left:1.2rem;}.site-header{padding:0 1rem;}.actions-bar{padding:0.8rem 1rem;}.score-breakdown{grid-template-columns:1fr;}.score-box{border-right:none;}}
</style>
</head>
<body>

<div class="modal-overlay" id="submit-modal">
  <div class="modal-box">
    <div class="modal-icon">ğŸ“‹</div>
    <div class="modal-title">Ná»™p bÃ i kiá»ƒm tra?</div>
    <div class="modal-text" id="modal-unanswered-text">Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n ná»™p bÃ i?</div>
    <div class="modal-buttons">
      <button class="btn btn-modal-cancel" onclick="closeModal()">LÃ m tiáº¿p</button>
      <button class="btn btn-modal-ok" onclick="submitExam()">Ná»™p bÃ i</button>
    </div>
  </div>
</div>

<header class="site-header">
  <div class="header-title"><span>Äá»€ Sá» 20</span> â€” Kiá»ƒm Tra Lá»‹ch Sá»­</div>
  <div class="timer-wrap">
    <span style="font-size:1.1rem">â±</span>
    <span id="timer-display">45:00</span>
  </div>
  <div class="header-meta">45 phÃºt</div>
</header>

<div id="exam-screen">
  <div class="main-container">
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="progress-bar" style="width:0%"></div></div>
    <div class="progress-label" id="progress-label">ÄÃ£ tráº£ lá»i: 0 / 40 cÃ¢u/Ã½</div>

    <div class="section-title">ğŸ“š PHáº¦N I â€” Tráº¯c nghiá»‡m má»™t Ä‘Ã¡p Ã¡n <span class="badge">24 cÃ¢u Ã— 0.25Ä‘</span></div>
    <div class="card"><div class="card-body" id="part1-container"></div></div>

    <div class="section-title">ğŸ“– PHáº¦N II â€” ÄÃºng / Sai <span class="badge">4 cÃ¢u Ã— 4 Ã½</span></div>
    <div class="card"><div class="card-body" id="part2-container"></div></div>
  </div>
  <div class="actions-bar">
    <div class="action-info" id="action-info">ChÆ°a tráº£ lá»i cÃ¢u nÃ o</div>
    <div class="btn-group">
      <button class="btn btn-secondary" onclick="resetExam()">ğŸ” LÃ m láº¡i</button>
      <button class="btn btn-primary" onclick="openSubmitModal()">ğŸ“¤ Ná»™p bÃ i</button>
    </div>
  </div>
</div>

<div id="result-screen">
  <div class="main-container fade-in">
    <div class="result-card">
      <div class="result-header">
        <h2>ğŸ‰ Káº¿t Quáº£ Kiá»ƒm Tra</h2>
        <div>Äá» Sá»‘ 20 â€” Lá»‹ch Sá»­</div>
        <div class="score-big" id="result-total">0.00</div>
        <div class="score-detail">/ 10.00 Ä‘iá»ƒm</div>
      </div>
      <div class="score-breakdown">
        <div class="score-box"><div class="label">Pháº§n I (24 cÃ¢u)</div><div class="val" id="res-p1">0.00</div></div>
        <div class="score-box"><div class="label">Pháº§n II (4 cÃ¢u)</div><div class="val" id="res-p2">0.00</div></div>
        <div class="score-box"><div class="label">Sá»‘ cÃ¢u Ä‘Ãºng P.I</div><div class="val" id="res-p1-correct">0/24</div></div>
        <div class="score-box"><div class="label">Thá»i gian lÃ m</div><div class="val" id="res-time">--:--</div></div>
      </div>
    </div>
    <div class="result-card"><div class="review-section" id="review-container"></div></div>
    <div style="text-align:center;padding-bottom:2rem;">
      <button class="btn btn-gold" onclick="resetExam()" style="padding:0.8rem 2.5rem;font-size:1rem;">ğŸ” LÃ m láº¡i vá»›i cÃ¢u há»i trÃ¡o Ä‘á»•i</button>
    </div>
  </div>
</div>

<script>
// ============================================================
// DATA â€” Äá»€ Sá» 20
// ============================================================
const PART1_ORIGINAL = [
  {id:'p1_1',text:'NÄƒm 1949, nÆ°á»›c Cá»™ng hÃ²a nhÃ¢n dÃ¢n Trung Hoa Ä‘Æ°á»£c thÃ nh láº­p do nhÃ¢n váº­t lá»‹ch sá»­ nÃ o sau Ä‘Ã¢y Ä‘á»©ng Ä‘áº§u?',options:{A:'Äáº·ng Tiá»ƒu BÃ¬nh.',B:'Mao Tráº¡ch ÄÃ´ng.',C:'Chu Ã‚n Lai.',D:'Táº­p Cáº­n BÃ¬nh.'},answer:'B'},
  {id:'p1_2',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  thuáº­n lá»£i Ä‘á»‘i vá»›i phong trÃ o Ä‘áº¥u tranh giáº£i phÃ³ng dÃ¢n tá»™c trÃªn tháº¿ giá»›i tá»« 1945 Ä‘áº¿n 1950?',options:{A:'Chá»§ nghÄ©a xÃ£ há»™i lÃ¢m vÃ o khá»§ng hoáº£ng, sá»¥p Ä‘á»•.',B:'Tháº¯ng lá»£i cá»§a phe Äá»“ng minh trong chiáº¿n tranh.',C:'Sá»± suy yáº¿u cá»§a cÃ¡c nÆ°á»›c Ä‘áº¿ quá»‘c Anh, PhÃ¡p, MÄ©.',D:'á»¦ng há»™, viá»‡n trá»£ to lá»›n cá»§a LiÃªn XÃ´, Trung Quá»‘c.'},answer:'B'},
  {id:'p1_3',text:'Cuá»™c khá»Ÿi nghÄ©a do KhÃºc Thá»«a Dá»¥ (tháº¿ ká»· X) nháº±m láº­t Ä‘á»• Ã¡ch thá»‘ng trá»‹ cá»§a triá»u Ä‘áº¡i nÃ o?',options:{A:'HÃ¡n.',B:'ÄÆ°á»ng.',C:'Tá»‘ng.',D:'NguyÃªn.'},answer:'B'},
  {id:'p1_4',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y khÃ´ng pháº£i nguyÃªn nhÃ¢n dáº«n Ä‘áº¿n sá»± tháº¥t báº¡i cá»§a cuá»™c khá»Ÿi nghÄ©a do Hai BÃ  TrÆ°ng lÃ£nh Ä‘áº¡o?',options:{A:'Thiáº¿u thá»‘n vá» cÃ¡c loáº¡i vÅ© khÃ­, trang bá»‹.',B:'QuÃ¢n khá»Ÿi nghÄ©a thiáº¿u kinh nghiá»‡m.',C:'QuÃ¢n HÃ¡n tinh nhuá»‡ Ä‘Æ°á»£c tá»• chá»©c tá»‘t.',D:'Äiá»u kiá»‡n thá»i tiáº¿t quÃ¡ kháº¯c nghiá»‡t.'},answer:'D'},
  {id:'p1_5',text:'Quá»‘c gia nÃ o sau Ä‘Ã¢y khÃ´ng pháº£i lÃ  uá»· viÃªn thÆ°á»ng trá»±c Há»™i Ä‘á»“ng Báº£o an LiÃªn há»£p quá»‘c?',options:{A:'Má»¹.',B:'Nga.',C:'Äá»©c.',D:'Anh.'},answer:'C'},
  {id:'p1_6',text:'Biá»‡n phÃ¡p chá»§ yáº¿u Ä‘Æ°á»£c Má»¹ vÃ  LiÃªn XÃ´ sá»­ dá»¥ng Ä‘á»ƒ káº¿t thÃºc cÃ¡c cuá»™c chiáº¿n tranh cá»¥c bá»™ trong Chiáº¿n tranh láº¡nh (1947-1989) lÃ  gÃ¬?',options:{A:'Kinh táº¿.',B:'ChÃ­nh trá»‹.',C:'Ngoáº¡i giao.',D:'QuÃ¢n sá»±.'},answer:'C'},
  {id:'p1_7',text:'Hiá»‡p há»™i cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã (ASEAN) Ä‘Æ°á»£c thÃ nh láº­p (1967) lÃ  biá»ƒu hiá»‡n rÃµ nÃ©t cá»§a xu tháº¿ nÃ o sau Ä‘Ã¢y?',options:{A:'ToÃ n cáº§u hÃ³a.',B:'HÃ²a hoÃ£n ÄÃ´ng - TÃ¢y.',C:'Äa cá»±c, nhiá»u trung tÃ¢m.',D:'LiÃªn káº¿t khu vá»±c.'},answer:'D'},
  {id:'p1_8',text:'Hiá»‡p há»™i cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã (ASEAN) ra Ä‘á»i nÄƒm 1967 nháº±m Ä‘Ã¡p á»©ng nhu cáº§u nÃ o sau Ä‘Ã¢y?',options:{A:'CÃ¢n báº±ng sá»©c máº¡nh vá»›i Má»¹.',B:'TÄƒng cÆ°á»ng sá»©c máº¡nh quÃ¢n sá»±.',C:'ÄoÃ n káº¿t Ä‘á»ƒ giáº£i phÃ³ng dÃ¢n tá»™c.',D:'Há»£p tÃ¡c Ä‘á»ƒ cÃ¹ng phÃ¡t triá»ƒn.'},answer:'D'},
  {id:'p1_9',text:'Ná»™i dung nÃ o khÃ´ng pháº£n Ã¡nh Ä‘Ãºng vá» vai trÃ² cá»§a tá»• chá»©c ASEAN Ä‘á»‘i vá»›i cÃ¡c quá»‘c gia á»Ÿ khu vá»±c ÄÃ´ng Nam Ã?',options:{A:'LÃ  nhÃ¢n tá»‘ hÃ ng Ä‘áº§u Ä‘áº£m báº£o mÃ´i trÆ°á»ng hÃ²a bÃ¬nh, á»•n Ä‘á»‹nh á»Ÿ khu vá»±c.',B:'Quyáº¿t Ä‘á»‹nh sá»± phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i cá»§a cÃ¡c quá»‘c gia trong khu vá»±c.',C:'Cá»§ng cá»‘ vÃ  tÄƒng cÆ°á»ng quan há»‡ há»£p tÃ¡c giá»¯a cÃ¡c nÆ°á»›c trong khu vá»±c.',D:'ThÃºc Ä‘áº©y sá»± tÄƒng trÆ°á»Ÿng vá» kinh táº¿ cá»§a cÃ¡c nÆ°á»›c thÃ nh viÃªn ASEAN.'},answer:'B'},
  {id:'p1_10',text:'Trong Tá»•ng khá»Ÿi nghÄ©a thÃ¡ng TÃ¡m nÄƒm 1945, nhá»¯ng tá»‰nh giÃ nh chÃ­nh quyá»n sá»›m nháº¥t trong cáº£ nÆ°á»›c lÃ ',options:{A:'Báº¯c Giang, Háº£i DÆ°Æ¡ng, Thanh HÃ³a, Quáº£ng Nam.',B:'Báº¯c Giang, Háº£i HÆ°ng, HÃ  TÄ©nh, Quáº£ng Nam.',C:'Báº¯c Cáº¡n, Háº£i DÆ°Æ¡ng, HÃ  TÄ©nh, Quáº£ng Nam.',D:'Báº¯c Giang, Háº£i DÆ°Æ¡ng, HÃ  TÄ©nh, Quáº£ng Nam.'},answer:'D'},
  {id:'p1_11',text:'NÄƒm 1945, cÆ¡ quan nÃ o sau Ä‘Ã¢y ban bá»‘ "QuÃ¢n lá»‡nh sá»‘ 1", chÃ­nh thá»©c phÃ¡t lá»‡nh Tá»•ng khá»Ÿi nghÄ©a trong cáº£ nÆ°á»›c?',options:{A:'á»¦y ban Khá»Ÿi nghÄ©a toÃ n quá»‘c.',B:'á»¦y ban DÃ¢n tá»™c giáº£i phÃ³ng Viá»‡t Nam.',C:'á»¦y ban DÃ¢n tá»™c giáº£i phÃ³ng cÃ¡c cáº¥p.',D:'á»¦y ban lÃ¢m thá»i khu Giáº£i phÃ³ng.'},answer:'A'},
  {id:'p1_12',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  nguyÃªn nhÃ¢n trá»±c tiáº¿p dáº«n Ä‘áº¿n bÃ¹ng ná»• cuá»™c khÃ¡ng chiáº¿n toÃ n quá»‘c chá»‘ng thá»±c dÃ¢n PhÃ¡p (12-1946) cá»§a nhÃ¢n dÃ¢n Viá»‡t Nam?',options:{A:'PhÃ¡p bá»™i Æ°á»›c, buá»™c Viá»‡t Nam pháº£i Ä‘áº§u hÃ ng.',B:'NhÃ¢n dÃ¢n Viá»‡t Nam Ä‘ang quyáº¿t tÃ¢m chiáº¿n Ä‘áº¥u.',C:'Sá»± á»§ng há»™, giÃºp Ä‘á»¡ cá»§a LiÃªn XÃ´, Trung Quá»‘c.',D:'QuÃ¢n PhÃ¡p Ä‘ang trÃªn Ä‘Ã  suy yáº¿u vÃ  tháº¥t báº¡i.'},answer:'A'},
  {id:'p1_13',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  cÆ¡ sá»Ÿ Ä‘á»ƒ Äáº£ng Cá»™ng sáº£n ÄÃ´ng DÆ°Æ¡ng Ä‘á» ra Ä‘Æ°á»ng lá»‘i khÃ¡ng chiáº¿n toÃ n dÃ¢n?',options:{A:'QuÃ¢n PhÃ¡p Ä‘Ã£ suy yáº¿u, tá»•n tháº¥t.',B:'Truyá»n thá»‘ng dÃ¢n tá»™c Viá»‡t Nam.',C:'PhÃ¡p máº¥t tháº¿ chá»§ Ä‘á»™ng chiáº¿n lÆ°á»£c.',D:'Viá»‡t Nam Ä‘Æ°á»£c tháº¿ giá»›i cÃ´ng nháº­n.'},answer:'B'},
  {id:'p1_14',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh lÃ  nhiá»‡m vá»¥ trung tÃ¢m cá»§a cÃ´ng cuá»™c Äá»•i má»›i á»Ÿ Viá»‡t Nam giai Ä‘oáº¡n 1996 â€“ 2006?',options:{A:'Äá»•i má»›i cÆ¡ cháº¿ quáº£n lÃ­ kinh táº¿, cáº£i cÃ¡ch há»‡ thá»‘ng giÃ¡, chá»‘ng láº¡m phÃ¡t.',B:'Äá»•i má»›i chÃ­nh sÃ¡ch vÄƒn hoÃ¡ - xÃ£ há»™i, Æ°u tiÃªn phÃ¡t triá»ƒn y táº¿, giÃ¡o dá»¥c.',C:'Äá»•i má»›i há»‡ thá»‘ng chÃ­nh trá»‹, Ä‘áº©y máº¡nh xÃ¢y dá»±ng vÃ  chá»‰nh Ä‘á»‘n Äáº£ng.',D:'Äáº©y máº¡nh cÃ´ng nghiá»‡p hÃ³a, hiá»‡n Ä‘áº¡i hÃ³a vÃ  há»™i nháº­p kinh táº¿ quá»‘c táº¿.'},answer:'D'},
  {id:'p1_15',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y khÃ´ng pháº£i lÃ  ná»™i dung Ä‘Æ°á»ng lá»‘i Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c tá»« nÄƒm 2006 Ä‘áº¿n nay?',options:{A:'Thá»±c hiá»‡n táº­p thá»ƒ hÃ³a nÃ´ng nghiá»‡p trÃªn quy mÃ´ toÃ n quá»‘c.',B:'HoÃ n thiá»‡n xÃ¢y dá»±ng nhÃ  nÆ°á»›c phÃ¡p quyá»n xÃ£ há»™i chá»§ nghÄ©a.',C:'Chá»§ Ä‘á»™ng vÃ  tÃ­ch cá»±c há»™i nháº­p quá»‘c táº¿ toÃ n diá»‡n vÃ  sÃ¢u rá»™ng.',D:'Äáº©y máº¡nh cÃ´ng nghiá»‡p hoÃ¡, hiá»‡n Ä‘áº¡i hoÃ¡ gáº¯n vá»›i kinh táº¿ tri thá»©c.'},answer:'A'},
  {id:'p1_16',text:'Trong cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹, cá»©u nÆ°á»›c (1954 - 1975), Viá»‡t Nam chá»§ yáº¿u cá»§ng cá»‘, phÃ¡t triá»ƒn quan há»‡ vá»›i cÃ¡c quá»‘c gia á»Ÿ khu vá»±c nÃ o sau Ä‘Ã¢y?',options:{A:'ÄÃ´ng Nam Ã.',B:'TÃ¢y Ã‚u.',C:'ÄÃ´ng Ã‚u.',D:'Má»¹ Latinh.'},answer:'C'},
  {id:'p1_17',text:'Theo báº£n Hiá»‡p Ä‘á»‹nh Pa-ri Ä‘Æ°á»£c kÃ­ ngÃ y 27-1-1973, Má»¹ vÃ  cÃ¡c nÆ°á»›c Ä‘Ã£ pháº£i cÃ´ng nháº­n Viá»‡t Nam lÃ  quá»‘c gia',options:{A:'Ä‘á»™c láº­p',B:'tá»± do.',C:'dÃ¢n chá»§.',D:'phÃ¡p trá»‹.'},answer:'A'},
  {id:'p1_18',text:'Má»™t trong nhá»¯ng nguyÃªn táº¯c cÆ¡ báº£n, quan trá»ng Ä‘á»ƒ Ä‘Ã m phÃ¡n Hiá»‡p Ä‘á»‹nh sÆ¡ bá»™ 1946, Hiá»‡p Ä‘á»‹nh GiÆ¡nevÆ¡ 1954 vÃ  Hiá»‡p Ä‘á»‹nh Pari 1973 lÃ ',options:{A:'tÃ´n trá»ng quyá»n dÃ¢n tá»™c cÆ¡ báº£n cá»§a Viá»‡t Nam.',B:'pháº¡m vi Ä‘Ã³ng quÃ¢n chia thÃ nh vÃ¹ng riÃªng biá»‡t.',C:'cÃ¡c bÃªn tham chiáº¿n pháº£i nhanh chÃ³ng rÃºt quÃ¢n.',D:'khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng cÃ¡c loáº¡i vÅ© khÃ­ há»§y diá»‡t.'},answer:'A'},
  {id:'p1_19',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y khÃ´ng pháº£i lÃ  yáº¿u tá»‘ cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n cuá»™c Ä‘á»i vÃ  hoáº¡t Ä‘á»™ng cÃ¡ch máº¡ng cá»§a Nguyá»…n Táº¥t ThÃ nh giai Ä‘oáº¡n 1900 - 1911?',options:{A:'Yáº¿u tá»‘ quÃª hÆ°Æ¡ng giÃ u truyá»n thá»‘ng Ä‘áº¥u tranh cÃ¡ch máº¡ng.',B:'Yáº¿u tá»‘ cÃ¡ nhÃ¢n vá»›i nÄƒng lá»±c há»c táº­p vÃ  nhÃ£n quan chÃ­nh trá»‹.',C:'Yáº¿u tá»‘ thá»i Ä‘áº¡i vá»›i sá»± phÃ¡t triá»ƒn máº¡nh cá»§a chá»§ nghÄ©a xÃ£ há»™i.',D:'Yáº¿u tá»‘ dÃ¢n tá»™c, Ä‘ang rÃªn xiáº¿t dÆ°á»›i Ã¡ch cai trá»‹ cá»§a thá»±c dÃ¢n.'},answer:'C'},
  {id:'p1_20',text:'ThÃ¡ng 6-1945, Há»“ ChÃ­ Minh Ä‘Ã£ ra chá»‰ thá»‹ thÃ nh láº­p',options:{A:'khu giáº£i phÃ³ng Viá»‡t Báº¯c.',B:'an toÃ n khu Báº¯c ThÃ¡i.',C:'chiáº¿n khu ÄÃ´ng Triá»u.',D:'Ä‘á»™i du kÃ­ch Báº¯c SÆ¡n.'},answer:'A'},
  {id:'p1_21',text:'Nháº­n Ä‘á»‹nh nÃ o sau Ä‘Ã¢y lÃ  Ä‘Ãºng vá» quÃ¡ trÃ¬nh ra Ä‘i tÃ¬m Ä‘Æ°á»ng cá»©u nÆ°á»›c cá»§a ngÆ°á»i thanh niÃªn yÃªu nÆ°á»›c Nguyá»…n Táº¥t ThÃ nh?',options:{A:'LÃ  con Ä‘Æ°á»ng Ä‘áº¿n vá»›i chá»§ nghÄ©a MÃ¡c â€“ LÃª nin ngay tá»« ban Ä‘áº§u.',B:'LÃ  con Ä‘Æ°á»ng kháº£o sÃ¡t, lá»±a chá»n báº±ng nhá»¯ng hoáº¡t Ä‘á»™ng thá»±c táº¿.',C:'Tá»« chá»§ nghÄ©a yÃªu nÆ°á»›c Ä‘áº¿n vá»›i chá»§ nghÄ©a dÃ¢n tá»™c lÃ  má»™t táº¥t yáº¿u.',D:'LÃ  quÃ¡ trÃ¬nh tá»± xÃ¢y dá»±ng con Ä‘Æ°á»ng giáº£i phÃ³ng dÃ¢n tá»™c riÃªng biá»‡t.'},answer:'B'},
  {id:'p1_22',text:'Má»™t trong nhá»¯ng bÃ i há»c kinh nghiá»‡m rÃºt ra tá»« sá»± sá»¥p Ä‘á»• cá»§a LiÃªn XÃ´ mÃ  Viá»‡t Nam cÃ³ thá»ƒ váº­n dá»¥ng trong cÃ´ng cuá»™c Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c hiá»‡n nay lÃ ',options:{A:'giá»¯ vá»¯ng vai trÃ² lÃ£nh Ä‘áº¡o cá»§a Äáº£ng Cá»™ng sáº£n.',B:'má»Ÿ rá»™ng quan há»‡ há»£p tÃ¡c Ä‘á»‘i ngoáº¡i vá»›i tháº¿ giá»›i.',C:'xÃ¢y dá»±ng ná»n kinh táº¿ thá»‹ trÆ°á»ng xÃ£ há»™i chá»§ nghÄ©a.',D:'tÄƒng cÆ°á»ng á»©ng dá»¥ng thÃ nh tá»±u khoa há»c - kÄ© thuáº­t.'},answer:'A'},
  {id:'p1_23',text:'Má»™t trong nhá»¯ng bÃ i há»c kinh nghiá»‡m tá»« cuá»™c khÃ¡ng chiáº¿n chá»‘ng PhÃ¡p xÃ¢m lÆ°á»£c (1945 â€“ 1954) Ä‘Æ°á»£c Äáº£ng Lao Ä‘á»™ng Viá»‡t Nam tiáº¿p tá»¥c váº­n dá»¥ng trong khÃ¡ng chiáº¿n chá»‘ng Má»¹, cá»©u nÆ°á»›c (1954 â€“ 1975) lÃ ',options:{A:'káº¿t há»£p sá»©c máº¡nh dÃ¢n tá»™c vá»›i sá»©c máº¡nh thá»i Ä‘áº¡i.',B:'thá»±c hiá»‡n Ä‘áº¥u tranh nghá»‹ trÆ°á»ng trÃªn cáº£ ba miá»n.',C:'thá»±c hiá»‡n Ä‘á»“ng thá»i hai nhiá»‡m vá»¥ á»Ÿ má»—i miá»n.',D:'tÄƒng cÆ°á»ng Ä‘oÃ n káº¿t vá»›i cÃ¡c nÆ°á»›c ÄÃ´ng Nam Ã.'},answer:'A'},
  {id:'p1_24',text:'Nháº­n Ä‘á»‹nh nÃ o sau Ä‘Ã¢y lÃ  Ä‘Ãºng vá» nhá»¯ng chÃ­nh sÃ¡ch mÃ  Viá»‡t Nam cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘á»ƒ há»™i nháº­p kinh táº¿ thÃ nh cÃ´ng vá»›i tháº¿ giá»›i?',options:{A:'XÃ¢y dá»±ng ná»n kinh táº¿ tá»± chá»§, phÃ¡t huy lá»£i tháº¿ Ä‘áº¥t nÆ°á»›c.',B:'LiÃªn káº¿t, há»£p tÃ¡c cháº·t cháº½ vá»›i cÃ¡c nÆ°á»›c ÄÃ´ng Nam Ã.',C:'TÃ¬m kiáº¿m nhá»¯ng nguá»“n vá»‘n viá»‡n trá»£ khÃ´ng hoÃ n láº¡i.',D:'Gia nháº­p vÃ o táº¥t cáº£ cÃ¡c tá»• chá»©c thÆ°Æ¡ng máº¡i tháº¿ giá»›i.'},answer:'A'},
];

const PART2_ORIGINAL = [
  {
    id:'p2_1',type:'table',
    tableHtml:`<table class="info-table"><thead><tr><th>Thá»i gian</th><th>Sá»± kiá»‡n</th></tr></thead><tbody>
      <tr><td><strong>NgÃ y 6-1-1975</strong></td><td>QuÃ¢n dÃ¢n miá»n Nam giÃ nh Ä‘Æ°á»£c tháº¯ng lá»£i quan trá»ng á»Ÿ ÄÆ°á»ng 14 - PhÆ°á»›c Long. TrÆ°á»›c tÃ¬nh hÃ¬nh Ä‘Ã³, Bá»™ ChÃ­nh trá»‹ Trung Æ°Æ¡ng Äáº£ng Ä‘Ã£ bá»• sung, hoÃ n chá»‰nh káº¿ hoáº¡ch giáº£i phÃ³ng miá»n Nam.</td></tr>
      <tr><td><strong>NgÃ y 24-3-1975</strong></td><td>Chiáº¿n dá»‹ch TÃ¢y NguyÃªn tháº¯ng lá»£i Ä‘Ã£ chuyá»ƒn cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹ cá»©u nÆ°á»›c tá»« tiáº¿n cÃ´ng chiáº¿n lÆ°á»£c sang tá»•ng tiáº¿n cÃ´ng chiáº¿n lÆ°á»£c trÃªn toÃ n miá»n Nam.</td></tr>
      <tr><td><strong>Tá»« ngÃ y 21-3 Ä‘áº¿n ngÃ y 29-3-1975</strong></td><td>Chiáº¿n dá»‹ch Huáº¿ - ÄÃ  Náºµng giÃ nh tháº¯ng lá»£i má»Ÿ ra kháº£ nÄƒng giáº£i phÃ³ng miá»n Nam ngay trong nÄƒm 1975.</td></tr>
      <tr><td><strong>NgÃ y 30-4-1975</strong></td><td>Tá»•ng thá»‘ng cuá»‘i cÃ¹ng cá»§a chÃ­nh quyá»n SÃ i GÃ²n lÃ  DÆ°Æ¡ng VÄƒn Minh tuyÃªn bá»‘ Ä‘áº§u hÃ ng khÃ´ng Ä‘iá»u kiá»‡n, chiáº¿n dá»‹ch Há»“ ChÃ­ Minh toÃ n tháº¯ng.</td></tr>
    </tbody></table>`,
    subQuestions:[
      {key:'a',text:'a) Báº£ng tÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n nhá»¯ng chiáº¿n tháº¯ng quan trá»ng trÃªn máº·t tráº­n quÃ¢n sá»± trong giai Ä‘oáº¡n cuá»‘i cá»§a cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹.',answer:true},
      {key:'b',text:'b) Chiáº¿n tháº¯ng PhÆ°á»›c Long lÃ  tráº­n trinh sÃ¡t chiáº¿n lÆ°á»£c, Ä‘Æ°a khÃ¡ng chiáº¿n chá»‘ng Má»¹ tá»« tiáº¿n cÃ´ng bÆ°á»›c sang tá»•ng tiáº¿n cÃ´ng chiáº¿n lÆ°á»£c.',answer:false},
      {key:'c',text:'c) Cuá»™c tá»•ng tiáº¿n cÃ´ng vÃ  ná»•i dáº­y nÄƒm 1975 lÃ  Ä‘Ã²n quÃ¢n sá»± quyáº¿t Ä‘á»‹nh buá»™c Má»¹ kÃ½ Hiá»‡p Ä‘á»‹nh, cháº¥m dá»©t chiáº¿n tranh á»Ÿ Viá»‡t Nam.',answer:false},
      {key:'d',text:'d) Vá»›i tháº¯ng lá»£i cá»§a cuá»™c tá»•ng tiáº¿n cÃ´ng vÃ  ná»•i dáº­y 1975, cÃ¡ch máº¡ng dÃ¢n tá»™c dÃ¢n chá»§ nhÃ¢n dÃ¢n á»Ÿ miá»n Nam Viá»‡t Nam Ä‘Ã£ hoÃ n thÃ nh.',answer:true},
    ]
  },
  {
    id:'p2_2',type:'quote',
    quote:`Trong 5 nÄƒm (1996-2000) Ä‘Æ°á»£c sá»± quan tÃ¢m cá»§a Äáº£ng, NhÃ  nÆ°á»›c, toÃ n xÃ£ há»™i vÃ  sá»± ná»— lá»±c pháº¥n Ä‘áº¥u cá»§a ngÃ nh giÃ¡o dá»¥c, sá»± nghiá»‡p giÃ¡o dá»¥c Ä‘Ã£ cÃ³ nhá»¯ng chuyá»ƒn biáº¿n Ä‘Ã¡ng ká»ƒ. Máº¡ng lÆ°á»›i trÆ°á»ng, lá»›p Ä‘Æ°á»£c duy trÃ¬ vÃ  phÃ¡t triá»ƒn vá»›i hÃ¬nh thá»©c Ä‘a dáº¡ng hÆ¡n. Quy mÃ´ giÃ¡o dá»¥c khÃ´ng ngá»«ng tÄƒng lÃªn vÃ  Ä‘Æ°á»£c Ä‘iá»u chá»‰nh cho phÃ¹ há»£p vá»›i cÃ¡c Ä‘iá»u kiá»‡n nháº±m báº£o Ä‘áº£m cháº¥t lÆ°á»£ng, kháº¯c phá»¥c tÃ¬nh tráº¡ng máº¥t cÃ¢n Ä‘á»‘i vá» cÆ¡ cáº¥u cáº¥p há»c, báº­c há»c. Äá»™i ngÅ© giÃ¡o viÃªn tiáº¿p tá»¥c Ä‘Æ°á»£c tÄƒng cÆ°á»ng theo hÆ°á»›ng chuáº©n hÃ³a. CÆ¡ sá»Ÿ váº­t cháº¥t ká»¹ thuáº­t tuy cÃ²n nhiá»u khÃ³ khÄƒn nhÆ°ng cÅ©ng Ä‘Ã£ Ä‘Æ°á»£c cá»§ng cá»‘ vÃ  nÃ¢ng cáº¥p, trÃ¬nh Ä‘á»™ dÃ¢n trÃ­ Ä‘Æ°á»£c nÃ¢ng cao.`,
    source:`Nguyá»…n Ngá»c MÃ£o (Chá»§ biÃªn), Lá»‹ch sá»­ Viá»‡t Nam, táº­p 15, \nNXB. Khoa há»c xÃ£ há»™i 2017, tr. 373`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n nhá»¯ng thÃ nh tá»±u bÆ°á»›c Ä‘áº§u cá»§a cÃ´ng cuá»™c Ä‘á»•i má»›i trÃªn lÄ©nh vá»±c giÃ¡o dá»¥c tá»« sau nÄƒm 1986.',answer:true},
      {key:'b',text:'b) Trong cÃ´ng cuá»™c Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c tá»« sau nÄƒm 1986, giÃ¡o dá»¥c Ä‘Ã o táº¡o Ä‘Æ°á»£c coi lÃ  quá»‘c sÃ¡ch hÃ ng Ä‘áº§u.',answer:true},
      {key:'c',text:'c) Trong giai Ä‘oáº¡n 1996 â€“ 2000, Ä‘á»•i má»›i giÃ¡o dá»¥c Ä‘Ã£ Ä‘áº¡t thÃ nh tá»±u Ä‘Ã¡ng ká»ƒ, quyáº¿t Ä‘á»‹nh sá»± phÃ¡t triá»ƒn kinh táº¿.',answer:false},
      {key:'d',text:'d) Sau nÄƒm 2000, Viá»‡t Nam Ä‘Ã£ kháº¯c phá»¥c xong tÃ¬nh tráº¡ng máº¥t cÃ¢n Ä‘á»‘i vá» cáº¥p há»c, hoÃ n thÃ nh cáº£i cÃ¡ch giÃ¡o dá»¥c.',answer:false},
    ]
  },
  {
    id:'p2_3',type:'quote',
    quote:`"Báº±ng cÃ¡c chuyáº¿n thÄƒm há»¯u nghá»‹ cá»§a Äáº£ng, Chá»§ tá»‹ch Há»“ ChÃ­ Minh vá»›i má»¥c Ä‘Ã­ch má»Ÿ rá»™ng quan há»‡ ngoáº¡i giao, Viá»‡t Nam Ä‘Ã£ nháº­n Ä‘Æ°á»£c sá»± viá»‡n trá»£ to lá»›n cáº£ vá» váº­t cháº¥t vÃ  tinh tháº§n trong giai Ä‘oáº¡n Ä‘áº§u cá»§a cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹. LiÃªn XÃ´ Ä‘Ã£ Ä‘á»“ng Ã½ viá»‡n trá»£ cho Viá»‡t Nam 40 triá»‡u rÃºp khÃ´ng hoÃ n láº¡i vÃ  cho vay 15 triá»‡u rÃºp Ä‘á»ƒ thá»±c hiá»‡n káº¿ hoáº¡ch 3 nÄƒm khÃ´i phá»¥c vÃ  phÃ¡t triá»ƒn kinh táº¿ á»Ÿ miá»n Báº¯c. Trung Quá»‘c Ä‘Ã£ cam káº¿t viá»‡n trá»£ cho Viá»‡t Nam 800 triá»‡u nhÃ¢n dÃ¢n tá»‡, bao gá»“m viá»‡n trá»£ hÃ ng hÃ³a vÃ  khÃ´i phá»¥c há»‡ thá»‘ng giao thÃ´ng Ä‘Æ°á»ng sáº¯t, Ä‘Æ°á»ng bá»™, xÃ¢y dá»±ng nhÃ  mÃ¡y... CÃ³ thá»ƒ nÃ³i, Ä‘Ã¢y lÃ  nguá»“n viá»‡n trá»£ quÃ½ giÃ¡ trong cÃ´ng cuá»™c khÃ´i phá»¥c vÃ  phÃ¡t triá»ƒn kinh táº¿ cá»§a Viá»‡t Nam trong giai Ä‘oáº¡n nÃ y."`,
    source:`Pháº¡m Äá»©c Thuáº­n: GiÃ¡o trÃ¬nh Lá»‹ch sá»­ ngoáº¡i giao Viá»‡t Nam, \nNXB Äáº¡i há»c Cáº§n ThÆ¡, 2018, tr 129`,
    subQuestions:[
      {key:'a',text:'a) Äoáº¡n tÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n thÃ nh tá»±u bÆ°á»›c Ä‘áº§u cá»§a ngoáº¡i giao Viá»‡t Nam trong cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹.',answer:true},
      {key:'b',text:'b) Trong giai Ä‘oáº¡n Ä‘áº§u cá»§a khÃ¡ng chiáº¿n chá»‘ng Má»¹, Viá»‡t Nam báº¯t Ä‘áº§u nháº­n Ä‘Æ°á»£c viá»‡n trá»£ to lá»›n tá»« LiÃªn XÃ´, Trung Quá»‘c.',answer:false},
      {key:'c',text:'c) Nguá»“n viá»‡n trá»£ tá»« bÃªn ngoÃ i Ä‘Ã£ Ä‘Ã³ng vai trÃ² quyáº¿t Ä‘á»‹nh Ä‘á»‘i vá»›i cÃ´ng cuá»™c khÃ´i phá»¥c vÃ  phÃ¡t triá»ƒn kinh táº¿ á»Ÿ Viá»‡t Nam.',answer:false},
      {key:'d',text:'d) Trong khÃ¡ng chiáº¿n chá»‘ng Má»¹, Viá»‡t Nam Ä‘Ã£ má»Ÿ rá»™ng quan há»‡ ngoáº¡i giao vÃ  nháº­n Ä‘Æ°á»£c sá»± há»— trá»£ tÃ­ch cá»±c tá»« bÃªn ngoÃ i.',answer:true},
    ]
  },
  {
    id:'p2_4',type:'quote',
    quote:`Nhá»¯ng Ä‘áº·c Ä‘iá»ƒm chÃ­nh cá»§a lá»‹ch sá»­ tháº¿ giá»›i hiá»‡n Ä‘áº¡i thá»i kÃ¬ nÃ y lÃ :Má»™t tráº­t tá»± tháº¿ giá»›i má»›i Ä‘ang dáº§n dáº§n hÃ¬nh thÃ nh. Nhiá»u nhÃ  chÃ­nh trá»‹ dá»± Ä‘oÃ¡n trong vÃ²ng ná»­a tháº¿ ká»‰ tá»›i, cá»¥c diá»‡n tháº¿ giá»›i sáº½ cÃ³ thá»ƒ lÃ  má»™t tráº­t tá»± "Ä‘a cá»±c". Táº¥t cáº£ cÃ¡c nÆ°á»›c tá»« lá»›n Ä‘áº¿n nhá» Ä‘á»u Ä‘iá»u chá»‰nh láº¡i chÃ­nh sÃ¡ch Ä‘á»‘i ná»™i, chÃ­nh sÃ¡ch Ä‘á»‘i ngoáº¡i vÃ  Ä‘Æ°á»ng lá»‘i xÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c cá»§a mÃ¬nh sao cho phÃ¹ há»£p vá»›i tÃ¬nh hÃ¬nh tháº¿ giá»›i má»›i.`,
    source:`Nguyá»…n Anh ThÃ¡i: Lá»‹ch sá»­ tháº¿ giá»›i hiá»‡n Ä‘áº¡i (1917 - 1995), \nNXB GiÃ¡o dá»¥c Viá»‡t Nam, HÃ  Ná»™i, 2006, tr 537`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n Ä‘áº·c Ä‘iá»ƒm chÃ­nh cá»§a lá»‹ch sá»­ tháº¿ giá»›i thá»i ká»³ sau khi Chiáº¿n tranh láº¡nh cháº¥m dá»©t.',answer:true},
      {key:'b',text:'b) Ngay sau Chiáº¿n tranh láº¡nh, tráº­t tá»± tháº¿ giá»›i Ä‘a cá»±c Ä‘Ã£ hÃ¬nh thÃ nh vá»›i sá»± vÆ°Æ¡n lÃªn cá»§a cÃ¡c cÆ°á»ng quá»‘c.',answer:false},
      {key:'c',text:'c) Sau Chiáº¿n tranh láº¡nh, cÃ¡c nÆ°á»›c Ä‘á»u Ä‘iá»u chá»‰nh chiáº¿n lÆ°á»£c phÃ¡t triá»ƒn cho phÃ¹ há»£p vá»›i tÃ¬nh hÃ¬nh tháº¿ giá»›i.',answer:true},
      {key:'d',text:'d) Tráº­t tá»± tháº¿ giá»›i má»›i sau Chiáº¿n tranh láº¡nh hÃ¬nh thÃ nh sáº½ phá»¥ thuá»™c vÃ o nhiá»u yáº¿u tá»‘, nháº¥t lÃ  yáº¿u tá»‘ "Má»¹".',answer:false},
    ]
  },
];

// ============================================================
// STATE
// ============================================================
let part1Questions=[],part2Questions=[],answers={};
let timerInterval=null,timeLeft=45*60,startTime=null,examDone=false;

// ============================================================
// UTILS
// ============================================================
function shuffle(arr){const a=[...arr];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function shuffleOptions(options){const keys=Object.keys(options);const vals=shuffle(keys.map(k=>options[k]));const n={};keys.forEach((k,i)=>{n[k]=vals[i];});return n;}

// ============================================================
// INIT
// ============================================================
function initExam(){
  answers={};timeLeft=45*60;examDone=false;startTime=Date.now();
  part1Questions=shuffle(PART1_ORIGINAL).map(q=>{
    const newOpts=shuffleOptions(q.options);
    const correctVal=q.options[q.answer];
    const newAnswer=Object.keys(newOpts).find(k=>newOpts[k]===correctVal);
    return{...q,options:newOpts,answer:newAnswer};
  });
  part2Questions=shuffle(PART2_ORIGINAL);
  renderPart1();renderPart2();startTimer();updateProgress();
}

// ============================================================
// RENDER PART 1
// ============================================================
function renderPart1(){
  const c=document.getElementById('part1-container');c.innerHTML='';
  part1Questions.forEach((q,idx)=>{
    const b=document.createElement('div');b.className='question-block';b.id='qblock_'+q.id;
    const opts=Object.entries(q.options).map(([k,v])=>`
      <label class="option-label" id="opt_${q.id}_${k}" onclick="selectOption('${q.id}','${k}',this)">
        <input type="radio" name="${q.id}" value="${k}">
        <span class="opt-key">${k}.</span><span>${v}</span>
      </label>`).join('');
    b.innerHTML=`<div class="q-header"><div class="q-num">${idx+1}</div><div class="q-text">${q.text}</div></div><div class="options-grid">${opts}</div>`;
    c.appendChild(b);
  });
}

// ============================================================
// RENDER PART 2
// ============================================================
function renderPart2(){
  const c=document.getElementById('part2-container');c.innerHTML='';
  part2Questions.forEach((q,idx)=>{
    const b=document.createElement('div');b.className='question-block';b.id='qblock_'+q.id;
    const content=q.type==='table'?q.tableHtml:`<div class="q-blockquote">${q.quote}<span class="source">${q.source}</span></div>`;
    const subs=q.subQuestions.map(sq=>`
      <div class="sub-q-block">
        <div class="sub-q">${sq.text}</div>
        <div class="tf-grid">
          <label class="tf-label" id="tf_${q.id}_${sq.key}_true" onclick="selectTF('${q.id}','${sq.key}',true,this)"><input type="radio" name="${q.id}_${sq.key}" value="true"> âœ… ÄÃºng</label>
          <label class="tf-label" id="tf_${q.id}_${sq.key}_false" onclick="selectTF('${q.id}','${sq.key}',false,this)"><input type="radio" name="${q.id}_${sq.key}" value="false"> âŒ Sai</label>
        </div>
      </div>`).join('');
    b.innerHTML=`<div class="q-header"><div class="q-num">${idx+1}</div><div class="q-text">Cho thÃ´ng tin sau Ä‘Ã¢y:</div></div>${content}${subs}`;
    c.appendChild(b);
  });
}

// ============================================================
// INTERACTIONS
// ============================================================
function selectOption(qId,key,el){
  if(examDone)return;
  document.querySelectorAll(`[id^="opt_${qId}_"]`).forEach(l=>l.classList.remove('selected'));
  el.classList.add('selected');answers[qId]=key;
  const bl=document.getElementById('qblock_'+qId);if(bl)bl.classList.add('answered');
  updateProgress();
}
function selectTF(qId,subKey,val,el){
  if(examDone)return;
  ['true','false'].forEach(v=>{const e=document.getElementById(`tf_${qId}_${subKey}_${v}`);if(e)e.classList.remove('selected-true','selected-false');});
  el.classList.add(val?'selected-true':'selected-false');
  answers[`${qId}_${subKey}`]=val;updateProgress();
}

// ============================================================
// PROGRESS
// ============================================================
function updateProgress(){
  const p1=part1Questions.filter(q=>answers[q.id]!==undefined).length;
  let p2=0;part2Questions.forEach(q=>q.subQuestions.forEach(sq=>{if(answers[`${q.id}_${sq.key}`]!==undefined)p2++;}));
  const total=40,done=p1+p2,pct=Math.round(done/total*100);
  document.getElementById('progress-bar').style.width=pct+'%';
  document.getElementById('progress-label').textContent=`ÄÃ£ tráº£ lá»i: ${done} / ${total} cÃ¢u/Ã½ (${pct}%)`;
  document.getElementById('action-info').textContent=`Pháº§n I: ${p1}/24 | Pháº§n II: ${p2}/16 Ã½`;
}

// ============================================================
// TIMER
// ============================================================
function startTimer(){
  clearInterval(timerInterval);
  timerInterval=setInterval(()=>{timeLeft--;updateTimerDisplay();if(timeLeft<=0){clearInterval(timerInterval);submitExam();}},1000);
}
function updateTimerDisplay(){
  const m=Math.floor(timeLeft/60),s=timeLeft%60;
  const el=document.getElementById('timer-display');
  el.textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
  el.className='';
  if(timeLeft<=60)el.classList.add('danger');
  else if(timeLeft<=300)el.classList.add('warning');
}

// ============================================================
// MODAL
// ============================================================
function openSubmitModal(){
  const p1=part1Questions.filter(q=>answers[q.id]!==undefined).length;
  let p2=0;part2Questions.forEach(q=>q.subQuestions.forEach(sq=>{if(answers[`${q.id}_${sq.key}`]!==undefined)p2++;}));
  const u=(24-p1)+(16-p2);
  document.getElementById('modal-unanswered-text').textContent=u>0?`CÃ²n ${u} cÃ¢u/Ã½ chÆ°a tráº£ lá»i. Báº¡n cÃ³ cháº¯c muá»‘n ná»™p bÃ i?`:'Báº¡n Ä‘Ã£ tráº£ lá»i táº¥t cáº£ cÃ¡c cÃ¢u. XÃ¡c nháº­n ná»™p bÃ i?';
  document.getElementById('submit-modal').classList.add('show');
}
function closeModal(){document.getElementById('submit-modal').classList.remove('show');}

// ============================================================
// GRADING
// ============================================================
function submitExam(){
  clearInterval(timerInterval);closeModal();examDone=true;
  const elapsed=Math.round((Date.now()-startTime)/1000);
  const elapsedStr=String(Math.floor(elapsed/60)).padStart(2,'0')+':'+String(elapsed%60).padStart(2,'0');
  let p1Correct=0;
  part1Questions.forEach(q=>{if(answers[q.id]===q.answer)p1Correct++;});
  const p1Score=p1Correct*0.25;
  const p2Map=[0,0.1,0.25,0.5,1.0];let p2Score=0;
  part2Questions.forEach(q=>{let cc=0;q.subQuestions.forEach(sq=>{const ua=answers[`${q.id}_${sq.key}`];if(ua!==undefined&&ua===sq.answer)cc++;});p2Score+=p2Map[cc];});
  const total=p1Score+p2Score;
  document.getElementById('result-total').textContent=total.toFixed(2);
  document.getElementById('res-p1').textContent=p1Score.toFixed(2)+' Ä‘';
  document.getElementById('res-p2').textContent=p2Score.toFixed(2)+' Ä‘';
  document.getElementById('res-p1-correct').textContent=p1Correct+'/24';
  document.getElementById('res-time').textContent=elapsedStr;
  renderReview(p2Map);
  document.getElementById('exam-screen').style.display='none';
  document.getElementById('result-screen').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

// ============================================================
// REVIEW
// ============================================================
function renderReview(p2Map){
  const c=document.getElementById('review-container');
  c.innerHTML='<div class="review-title">ğŸ“ Chá»¯a Ä‘Ã¡p Ã¡n chi tiáº¿t</div>';
  c.innerHTML+='<div style="font-weight:700;color:#1a2744;margin-bottom:0.8rem;font-size:0.92rem;">ğŸ“š PHáº¦N I â€” Tráº¯c nghiá»‡m</div>';
  part1Questions.forEach((q,idx)=>{
    const ua=answers[q.id],correct=ua===q.answer;
    const item=document.createElement('div');
    item.className='review-item '+(ua===undefined?'':correct?'correct':'wrong');
    const status=ua===undefined?'<span class="review-status" style="background:#f3f4f6;color:#6b7280">â¬œ ChÆ°a tráº£ lá»i</span>':correct?'<span class="review-status status-correct">âœ… ÄÃºng</span>':'<span class="review-status status-wrong">âŒ Sai</span>';
    item.innerHTML=`${status}<div class="review-q-text">CÃ¢u ${idx+1}: ${q.text}</div>${!correct?`<div class="review-answer answer-your">â–¶ Báº¡n chá»n: ${ua?ua+'. '+q.options[ua]:'ChÆ°a tráº£ lá»i'}</div>`:''}<div class="review-answer answer-correct">âœ” ÄÃ¡p Ã¡n Ä‘Ãºng: ${q.answer}. ${q.options[q.answer]}</div>`;
    c.appendChild(item);
  });
  const p2h=document.createElement('div');
  p2h.innerHTML='<div style="font-weight:700;color:#1a2744;margin:1.5rem 0 0.8rem;font-size:0.92rem;">ğŸ“– PHáº¦N II â€” ÄÃºng / Sai</div>';
  c.appendChild(p2h);
  part2Questions.forEach((q,idx)=>{
    let cc=0;q.subQuestions.forEach(sq=>{const ua=answers[`${q.id}_${sq.key}`];if(ua!==undefined&&ua===sq.answer)cc++;});
    const qScore=p2Map[cc];
    const sCls=cc===4?'status-correct':cc>=2?'status-partial':'status-wrong';
    const sIcon=cc===4?'âœ…':cc>=2?'âš ï¸':'âŒ';
    const item=document.createElement('div');
    item.className='review-item '+(cc===4?'correct':'wrong');
    const content=q.type==='table'?q.tableHtml:`<div class="review-blockquote">${q.quote}<span style="font-style:normal;font-size:0.75rem;color:#9ca3af;display:block;margin-top:0.4rem;">${q.source}</span></div>`;
    const rows=q.subQuestions.map(sq=>{const ua=answers[`${q.id}_${sq.key}`];const ok=ua!==undefined&&ua===sq.answer;return`<div style="padding:0.4rem 0;border-bottom:1px solid #f0f2f5;font-size:0.84rem;"><span style="color:#374151;font-weight:500;">${sq.text}</span><br><span style="color:${ua===undefined?'#9ca3af':ok?'#16a34a':'#dc2626'}">â–¶ Báº¡n chá»n: <b>${ua===undefined?'ChÆ°a chá»n':ua?'ÄÃºng':'Sai'}</b></span> &nbsp;|&nbsp; <span style="color:#16a34a">âœ” ÄÃ¡p Ã¡n: <b>${sq.answer?'ÄÃºng':'Sai'}</b></span> ${ok?' <span style="color:#16a34a">âœ…</span>':' <span style="color:#dc2626">âŒ</span>'}</div>`;}).join('');
    item.innerHTML=`<span class="review-status ${sCls}">${sIcon} ${cc}/4 Ã½ Ä‘Ãºng â€” ${qScore.toFixed(2)} Ä‘iá»ƒm</span><div class="review-q-text" style="margin-bottom:0.6rem;">CÃ¢u ${idx+1} â€” Pháº§n II</div>${content}<div style="margin-top:0.5rem;">${rows}</div>`;
    c.appendChild(item);
  });
}

// ============================================================
// RESET
// ============================================================
function resetExam(){
  clearInterval(timerInterval);
  document.getElementById('result-screen').style.display='none';
  document.getElementById('exam-screen').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
  initExam();
}

initExam();
</script>
</body>
</html>
